(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{100:function(e,t,n){"use strict";n.r(t);var r=n(36),a=n.n(r),c=n(113),i=n.n(c),o=n(114),u=n.n(o),l=n(115),s=n.n(l),d=n(22),p=n.n(d),f=n(39),b=n.n(f),y=n(0),v=n.n(y),O=n(44),m=n(118),h=n.n(m),j=n(18),g=n.n(j),E=n(23),w=n.n(E),P=n(24),C=n(94),_=n(43),k=n.n(_),T=n(96),D=n.n(T);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(){var e=w()(["\n  padding-left: ","px;\n"]);return R=function(){return e},e}var q=Object(P.a)((function(e){e.level;var t=a()(e,["level"]);return v.a.createElement("div",t)}))(R(),(function(e){return e.level>0?24:0})),x=function(e){var t=e.title,n=e.level;return v.a.createElement("h".concat(n+1<=6?n+1:6),{},t)};x.propTypes={title:g.a.node.isRequired,level:g.a.number};var J=function e(t){var n=t.title,r=t.level,c=t.children,i=t.render,o=a()(t,["title","level","children","render"]),u=Object(y.useState)(!0),l=s()(u,2),d=l[0],f=l[1];return v.a.createElement(q,{level:r},v.a.createElement("div",null,c.length>0&&!d&&v.a.createElement(C.a,{variant:"plain",onClick:function(){return f(!0)}},v.a.createElement(k.a,null)),c.length>0&&d&&v.a.createElement(C.a,{variant:"plain",onClick:function(){return f(!1)}},v.a.createElement(D.a,null)),i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({title:n,level:r},o))),d&&c.map((function(t){return v.a.createElement(e,h()({level:r+1,key:t.id,_:!0},t,{render:i}))})))},z={title:g.a.node.isRequired,id:g.a.string.isRequired};z.children=g.a.arrayOf(g.a.shape(z)),J.propTypes={title:g.a.node.isRequired,children:g.a.arrayOf(g.a.shape(z)),level:g.a.number,render:g.a.func},J.defaultProps={children:[],level:0,render:x};var A=J,I=function(e){var t=e.data,n=e.render;return v.a.createElement("div",null,v.a.createElement("h1",null,"Sources"),t.map((function(e){return v.a.createElement(A,h()({key:e.id},e,{render:n}))})))},B={title:g.a.node.isRequired,id:g.a.string.isRequired};B.children=g.a.arrayOf(g.a.shape(B)),I.propTypes={data:g.a.arrayOf(g.a.shape(B)),render:g.a.func},I.defaultProps={data:[]};var F=I,G=n(119),H=n(30),K=n(27),L=n(88),M=n(107),N=n(105),Q=n(106),U=n(89),V=n(42),W=n(37),X=n(129),Y=n(128),Z=n(116),$=n(117),ee=function(e){return Object(Z.a)().get("".concat($.b,"/sources/").concat(e,"/vms"))},te=function(e){return Object(Z.a)().get("".concat($.b,"/vms/").concat(e,"/security_groups"))},ne=function(e){return Object(Z.a)().get("".concat($.b,"/vms/").concat(e,"/tags"))},re=function(e){return Object(Z.a)().get("".concat($.b,"/vms/").concat(e,"/network_adapters"))},ae=function(e){return Object(Z.a)().get("".concat($.b,"/vms/").concat(e,"/private_ipaddresses"))},ce=function(e){return Object(Z.a)().get("".concat($.b,"/vms/").concat(e,"/public_ipaddresses"))};function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e){if(null==e?void 0:e.data)return e.data.map((function(e){return function e(t,n){if(t){var r={};return t.subCollections&&t.subCollections.forEach((function(t){r.children=[].concat(b()(r.children||[]),[{id:"sub-collection-".concat(t.type),title:t.type,children:t.data.data.map((function(n){return e(n,t.type)}))}])})),oe(oe(oe(oe({},r),{},{id:t.id,title:t.name||t.id},n&&{type:n}),t.entityType&&{type:t.entityType}),{},{nodeData:t})}}(e)}))}t.default=function(){var e=Object(y.useState)(!1),t=s()(e,2),n=t[0],r=t[1],c=Object(y.useState)({}),o=s()(c,2),l=o[0],d=o[1],p=Object(y.useState)(!1),f=s()(p,2),b=f[0],m=f[1],h=Object(O.b)(),j=Object(O.c)((function(e){return e.sourcesReducer}));if(Object(y.useEffect)((function(){var e;(null==j?void 0:j.data)&&0!==(null==j||null===(e=j.data)||void 0===e?void 0:e.length)||(r(!0),Promise.all([Object(G.g)(),Object(Y.a)()]).then(function(){var e=u()(i.a.mark((function e(t){var n,r,a,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s()(t,2),r=n[0],a=n[1],e.next=3,Object(Y.b)(r.data.map((function(e){return e.id})));case 3:return c=e.sent,o=r.data.map((function(e){return oe(oe({},e),{},{entityType:"sources",source_type_id:c.data.sources.find((function(t){return t.id===e.id})).source_type_id,source_type_name:a.data.find((function(t){return t.id===c.data.sources.find((function(t){return t.id===e.id})).source_type_id})).name})})),h({type:H.a,payload:oe(oe({},r),{},{data:o})}),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){var t=e.map((function(e){var t=function(e,t,n){switch(t){case"ansible-tower":return[Object(G.e)(e).then((function(t){return n({type:H.b,id:e,subCollections:{type:"service-offerings",data:t}})})),Object(G.f)(e).then((function(t){return n({type:H.b,id:e,subCollections:{type:"service-plans",data:t}})})),Object(G.a)(e).then((function(t){return n({type:H.b,id:e,subCollections:{type:"service-instances",data:t}})})),Object(G.c)(e).then((function(t){return n({type:H.b,id:e,subCollections:{type:"service-inventories",data:t}})})),Object(G.b)(e).then((function(t){return n({type:H.b,id:e,subCollections:{type:"service-instance-nodes",data:t}})})),Object(G.d)(e).then((function(t){return n({type:H.b,id:e,subCollections:{type:"service-offering-nodes",data:t}})}))];case"amazon":return[ee(e).then((function(t){return n({type:H.b,id:e,subCollections:{type:"vms",data:t}}),t.data})).then((function(e){var t=e.map((function(e){var t=e.id,r=[te(t).then((function(e){return n({type:H.b,id:t,subCollections:{type:"security-groups",data:e}})})),ne(t).then((function(e){return n({type:H.b,id:t,subCollections:{type:"tags",data:e}})})),re(t).then((function(e){return n({type:H.b,id:t,subCollections:{type:"network-adapters",data:e}})})),ae(t).then((function(e){return n({type:H.b,id:t,subCollections:{type:"private-ip-addresses",data:e}})})),ce(t).then((function(e){return n({type:H.b,id:t,subCollections:{type:"public-ip-addresses",data:e}})}))];return Promise.all(r)}));return Promise.all(t)}))];default:return[]}}(e.id,e.source_type_name,h);return Promise.all(t).then((function(){return r(!1)}))}));return Promise.all(t)})))}),[]),n)return v.a.createElement(V.a,null);var g=l.entityType,E=(l.subCollections,a()(l,["entityType","subCollections"])),w=ue(j);return v.a.createElement(X.a,{open:b,data:E,setOpen:m},v.a.createElement(L.a,null,v.a.createElement(M.a,null,v.a.createElement(N.a,null,v.a.createElement(Q.a,null,v.a.createElement(K.b,{to:W.b.index},"Topology Inventory")),v.a.createElement(Q.a,{isActive:!0},"Tree view"))),v.a.createElement(U.a,null,v.a.createElement(F,{data:w,render:function(e){var t=e.title,n=e.type,r=e.nodeData;return n?v.a.createElement("a",{onClick:function(){d(oe({type:n,entityType:g},r)),m(!0)}},t):v.a.createElement("span",null,t)}}))))}}}]);
//# sourceMappingURL=../sourcemaps/9.js.map