(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{179:function(e,n,t){"use strict";t.r(n);var r,a=t(0),o=t.n(a),c=t(25),u=t.n(c),i=t(44),s=t(24),l=t(49),d=t.n(l),p=t(74),f=t(75),b=t(62),m=t.n(b),v=t(12),y=t.n(v),O=t(6);function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){y()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var E,w={isLoaded:!1,sourceTypes:[],sources:[],details:{},isDetailLoading:!1,detailOpen:!1,selectedNode:void 0,detail:{node:void 0,name:void 0},openedNodes:[],keepClosed:!1},j=(r={},y()(r,O.d,(function(e,n){var t=n.payload.sources;return g(g({},e),{},{isLoaded:!0,sources:t})})),y()(r,O.h,(function(e,n){var t=n.payload.data;return g(g({},e),{},{sourceTypes:t})})),y()(r,O.f,(function(e,n){var t=n.payload;return g(g({},e),{},{details:g(g({},e.details),t),isDetailLoading:!1})})),y()(r,O.e,(function(e){return g(g({},e),{},{isDetailLoading:!1})})),y()(r,O.g,(function(e){return g(g({},e),{},{isDetailLoading:!0,openDetail:!0})})),y()(r,O.b,(function(e){return g(g({},e),{},{detailOpen:!1})})),y()(r,O.j,(function(e,n){var t=n.payload;return g(g({},e),{},{detailOpen:!e.keepClosed,detail:{node:t.node,name:t.name}})})),y()(r,O.a,(function(e,n){var t=n.payload;return g(g({},e),{},{openedNodes:e.openedNodes.includes(t.node)?e.openedNodes.filter((function(e){return e!==t.node})):[].concat(m()(e.openedNodes),[t.node]),selectedNode:t.node})})),y()(r,O.c,(function(e){return g(g({},e),{},{keepClosed:!e.keepClosed})})),y()(r,O.k,(function(e){return g(g({},e),{},{detailOpen:!0})})),r),_=t(57),D=function(){return Object(a.useEffect)((function(){insights.chrome.init()}),[]),o.a.createElement(a.Fragment,null,o.a.createElement(_.a,null))};var L=function(e){var n="/",t=e.split("/");return t.shift(),"beta"===t[0]&&(t.shift(),n="/beta/"),"".concat(n).concat(t[0],"/").concat(t[1])};u.a.render(o.a.createElement(s.a,{store:function(){if(E)throw new Error("store already initialized");for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return(E=new d.a({},[p.a,f.a].concat(n))).register({sourcesReducer:Object(l.applyReducerHash)(j,w)}),E}().getStore()},o.a.createElement(i.a,{basename:L(window.location.pathname)},o.a.createElement(D,null))),document.getElementById("root"))},30:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var r=t(26),a=t.n(r),o=t(32),c=t.n(o),u=t(50),i=t.n(u),s=i.a.create();s.interceptors.response.use((function(e){return e.data||e}));var l=function(){return s},d=i.a.create();d.interceptors.request.use(function(){var e=c()(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.insights.chrome.auth.getUser();case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),d.interceptors.response.use((function(e){var n=e.data;if(n.errors)throw{message:n.errors[0].errorType,data:n.errors[0].message};return n}))},31:function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return a}));var r="/api/topological-inventory/v3.0",a="/api/sources/v3.0"},56:function(e,n,t){"use strict";t.d(n,"f",(function(){return m})),t.d(n,"e",(function(){return v})),t.d(n,"d",(function(){return y})),t.d(n,"b",(function(){return O})),t.d(n,"a",(function(){return h})),t.d(n,"c",(function(){return g})),t.d(n,"g",(function(){return E}));var r=t(26),a=t.n(r),o=t(12),c=t.n(o),u=t(32),i=t.n(u),s=t(6),l=t(59),d=t(30),p=t(31);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){c()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var m=function(){return function(){var e=i()(a.a.mark((function e(n){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)();case 2:return t=e.sent,e.next=5,a=t.sources.map((function(e){return e.id})),Object(d.a)().post("".concat(p.a,"/graphql"),{query:"{ sources( filter: { id: { eq: [".concat(a,"] } } )\n        { id, source_type_id, name }\n    }")}).then((function(e){return e.data}));case 5:return r=e.sent,e.abrupt("return",n({type:s.d,payload:{sources:t.sources.map((function(e){return b(b({},r.sources.find((function(n){return n.id===e.id}))),e)}))}}));case 7:case"end":return e.stop()}var a}),e)})));return function(n){return e.apply(this,arguments)}}()},v=function(){return function(){var e=i()(a.a.mark((function e(n){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d.a)().get("".concat(p.a,"/source_types"));case 3:return t=e.sent,e.abrupt("return",n({type:s.h,payload:t}));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n({type:s.i}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}()},y=function(e,n,t,r){return function(){var o=i()(a.a.mark((function o(u,i){var l,f;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(u({type:s.j,payload:{node:e,name:n}}),l=i(),!l.sourcesReducer.details[e]){a.next=4;break}return a.abrupt("return",u({type:s.f}));case 4:return u({type:s.g}),a.prev=5,a.next=8,Object(d.a)().get("".concat(p.b,"/").concat(t,"/").concat(r));case 8:return f=a.sent,a.abrupt("return",u({type:s.f,payload:c()({},e,f)}));case 12:return a.prev=12,a.t0=a.catch(5),a.abrupt("return",u({type:s.e}));case 15:case"end":return a.stop()}}),o,null,[[5,12]])})));return function(e,n){return o.apply(this,arguments)}}()},O=function(){return{type:s.b}},h=function(e){return{type:s.a,payload:{node:e}}},g=function(){return{type:s.c}},E=function(){return{type:s.k}}},57:function(e,n,t){"use strict";t.d(n,"b",(function(){return V}));var r=t(36),a=t.n(r),o=t(0),c=t.n(o),u=t(8),i=t(37),s=t(171),l=t(172),d=t(58),p=t(81),f=t(181),b=t(170),m=t(21),v=t.n(m),y=t(24),O=t(80),h=t.n(O),g=t(166),E=t(167),w=t(168),j=t(169),_=t(82),D=t(154),L=t(155),S=t(56),P=function(){var e=Object(y.d)((function(e){return e.sourcesReducer.isDetailLoading})),n=Object(y.d)((function(e){var n;return null===(n=e.sourcesReducer.detail)||void 0===n?void 0:n.node})),t=Object(y.d)((function(e){var n;return null===(n=e.sourcesReducer.detail)||void 0===n?void 0:n.name})),r=Object(y.d)((function(e){var t;return null===(t=e.sourcesReducer.details)||void 0===t?void 0:t[n]})),a=Object(y.c)();return c.a.createElement(g.a,null,c.a.createElement(E.a,null,t," -- ",n,c.a.createElement(w.a,null,c.a.createElement(j.a,{onClick:function(){return a(Object(S.b)())}}))),c.a.createElement(_.a,null,e?c.a.createElement(D.a,{className:"pf-u-p-xl"},c.a.createElement(L.a,null)):c.a.createElement(h.a,{src:r})))},N=function(e){var n=e.children,t=Object(y.d)((function(e){return e.sourcesReducer.detailOpen}));return c.a.createElement(p.a,{isExpanded:t},c.a.createElement(f.a,{panelContent:c.a.createElement(P,null)},c.a.createElement(b.a,null,n)))};N.propTypes={children:v.a.oneOfType([v.a.node,v.a.arrayOf(v.a.node)])};var T=N;function k(){var e=a()(["\n  min-height: 100%;\n"]);return k=function(){return e},e}var x=Object(o.lazy)((function(){return Promise.all([t.e(2),t.e(1),t.e(0),t.e(12)]).then(t.bind(null,191))})),A=Object(o.lazy)((function(){return Promise.all([t.e(2),t.e(1),t.e(0),t.e(13)]).then(t.bind(null,189))})),I=Object(o.lazy)((function(){return Promise.all([t.e(2),t.e(1),t.e(0),t.e(14)]).then(t.bind(null,190))})),V={index:"/",treeView:"/tree-view",topologyView:"/topology-viewer"},q=Object(i.a)(s.a)(k());n.a=function e(){return c.a.createElement(q,{hasGutter:!0},c.a.createElement(l.a,null,c.a.createElement(o.Suspense,{fallback:c.a.createElement(d.a,null)},c.a.createElement(T,null,c.a.createElement(u.c,null,c.a.createElement(u.a,{exact:!0,path:V.treeView,component:A}),c.a.createElement(u.a,{exact:!0,path:V.topologyView,component:x}),c.a.createElement(u.a,{path:e.index,component:I}),c.a.createElement(u.a,{path:"*",component:I}))))))}},58:function(e,n,t){"use strict";var r=t(36),a=t.n(r),o=t(0),c=t.n(o),u=t(152),i=t(153),s=t(154),l=t(155),d=t(37);function p(){var e=a()(["\n  height: 100%;\n"]);return p=function(){return e},e}var f=Object(d.a)(u.a)(p());n.a=function(){return c.a.createElement(f,null,c.a.createElement(i.a,null,c.a.createElement(s.a,null,c.a.createElement(l.a,{size:"xl"}))))}},59:function(e,n,t){"use strict";t.d(n,"b",(function(){return c})),t.d(n,"a",(function(){return i}));var r=t(30),a=t(31),o=Object(r.a)(),c={name:"sources",topologyViewNode:{nodeShape:"hexagon",nodeType:"source"},transformLabel:function(e,n){var t;return"".concat(e.name," (").concat((null==n||null===(t=n.find((function(n){return n.id===e.source_type_id})))||void 0===t?void 0:t.product_name)||e.source_type_id,")")},children:[{name:"service_offerings",label:"Service offerings",attributes:["name"],topologyViewNode:{nodeShape:"square",nodeType:"serviceOfferings"}},{name:"service_plans",label:"Service plans",attributes:["name"],topologyViewNode:{nodeShape:"square",nodeType:"servicePlans"}},{name:"service_instances",label:"Service instances",attributes:["name"],topologyViewNode:{nodeShape:"square",nodeType:"serviceInstances"}},{name:"service_inventories",label:"Service inventories",attributes:["name"],topologyViewNode:{nodeShape:"square",nodeType:"serviceInventories"}},{name:"service_instance_nodes",label:"Service instance nodes",attributes:["name"],topologyViewNode:{nodeShape:"square",nodeType:"serviceInstanceNodes"}},{name:"service_offering_nodes",label:"Service offering nodes",attributes:["name"],topologyViewNode:{nodeShape:"square",nodeType:"serviceOfferingsNode"}},{name:"source_regions",label:"Source regions",attributes:["name"],children:[{name:"networks",label:"Networks",attributes:["name"],children:[{name:"subnets",label:"Subnets",attributes:["name"]}]},{name:"vms",label:"Virtual machines",attributes:["name"],children:[{name:"network_adapters",label:"Network adapters",attributes:["mac_address"],children:[{name:"ipaddresses",label:"IP addresses",attributes:["ipaddress"]}]},{name:"security_groups",label:"Security groups",attributes:["name"]},{name:"volumes",label:"Volumes",attributes:["name"]}]}]}]},u="{".concat(function e(n){return"".concat(n.name," {id,").concat(n.attributes?n.attributes:"",",").concat(n.children?n.children.map((function(n){return e(n)})):"","}")}(c),"}"),i=function(){return o.post("".concat(a.b,"/graphql"),{query:u}).then((function(e){return e.data}))}},6:function(e,n,t){"use strict";t.d(n,"d",(function(){return a})),t.d(n,"h",(function(){return o})),t.d(n,"i",(function(){return c})),t.d(n,"g",(function(){return u})),t.d(n,"f",(function(){return i})),t.d(n,"e",(function(){return s})),t.d(n,"b",(function(){return l})),t.d(n,"j",(function(){return d})),t.d(n,"a",(function(){return p})),t.d(n,"k",(function(){return f})),t.d(n,"c",(function(){return b}));var r="@@topological_inventory_frontend/",a="".concat(r,"LOAD_DATA"),o="".concat(r,"LOAD_SOURCE_TYPES"),c="".concat(r,"LOAD_SOURCE_TYPES_FAILED"),u="".concat(r,"LOAD_DETAIL_PENDING"),i="".concat(r,"LOAD_DETAIL_FULFILLED"),s="".concat(r,"LOAD_DETAIL_FAILED"),l="".concat(r,"CLOSE_DETAIL"),d="".concat(r,"OPEN_DETAIL"),p="".concat(r,"CLICK_ON_NODE"),f="".concat(r,"OPEN_DETAIL_BUTTON"),b="".concat(r,"KEEP_CLOSED")}}]);
//# sourceMappingURL=../sourcemaps/lib~App~06837ae4.js.map