(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{100:function(e,t,n){"use strict";n.r(t);var r=n(36),a=n.n(r),c=n(113),i=n.n(c),o=n(114),u=n.n(o),l=n(115),s=n.n(l),d=n(22),p=n.n(d),f=n(39),b=n.n(f),y=n(0),v=n.n(y),O=n(44),m=n(118),h=n.n(m),j=n(18),g=n.n(j),E=n(23),w=n.n(E),P=n(24),C=n(94),k=n(43),_=n.n(k),T=n(96),D=n.n(T);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(){var e=w()(["\n  padding-left: ","px;\n"]);return R=function(){return e},e}var q=Object(P.a)((function(e){e.level;var t=a()(e,["level"]);return v.a.createElement("div",t)}))(R(),(function(e){return e.level>0?24:0})),x=function(e){var t=e.title,n=e.level;return v.a.createElement("h".concat(n+1<=6?n+1:6),{},t)};x.propTypes={title:g.a.node.isRequired,level:g.a.number};var A=function e(t){var n=t.title,r=t.level,c=t.children,i=t.render,o=a()(t,["title","level","children","render"]),u=Object(y.useState)(!0),l=s()(u,2),d=l[0],f=l[1];return v.a.createElement(q,{level:r},v.a.createElement("div",null,c.length>0&&!d&&v.a.createElement(C.a,{variant:"plain",onClick:function(){return f(!0)}},v.a.createElement(_.a,null)),c.length>0&&d&&v.a.createElement(C.a,{variant:"plain",onClick:function(){return f(!1)}},v.a.createElement(D.a,null)),0===c.length&&v.a.createElement("span",{style:{marginLeft:46}}),i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({title:n,level:r},o))),d&&c.map((function(t){return v.a.createElement(e,h()({level:r+1,key:t.id,_:!0},t,{render:i}))})))},J={title:g.a.node.isRequired,id:g.a.string.isRequired};J.children=g.a.arrayOf(g.a.shape(J)),A.propTypes={title:g.a.node.isRequired,children:g.a.arrayOf(g.a.shape(J)),level:g.a.number,render:g.a.func},A.defaultProps={children:[],level:0,render:x};var z=A,I=function(e){var t=e.data,n=e.render;return v.a.createElement("div",null,v.a.createElement("h1",null,"Sources"),t.map((function(e){return v.a.createElement(z,h()({key:e.id},e,{render:n}))})))},L={title:g.a.node.isRequired,id:g.a.string.isRequired};L.children=g.a.arrayOf(g.a.shape(L)),I.propTypes={data:g.a.arrayOf(g.a.shape(L)),render:g.a.func},I.defaultProps={data:[]};var B=I,F=n(119),G=n(30),H=n(27),K=n(88),M=n(107),N=n(105),Q=n(106),U=n(89),V=n(42),W=n(37),X=n(129),Y=n(128),Z=n(116),$=n(117),ee=function(e){return Object(Z.a)().get("".concat($.b,"/sources/").concat(e,"/vms?limit=4"))},te=function(e){return Object(Z.a)().get("".concat($.b,"/vms/").concat(e,"/security_groups"))},ne=function(e){return Object(Z.a)().get("".concat($.b,"/vms/").concat(e,"/tags"))},re=function(e){return Object(Z.a)().get("".concat($.b,"/vms/").concat(e,"/network_adapters"))};function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e){if(null==e?void 0:e.data)return e.data.map((function(e){return function e(t,n){if(t){var r={};return t.subCollections&&t.subCollections.forEach((function(t){r.children=[].concat(b()(r.children||[]),[{id:"sub-collection-".concat(t.type),title:t.type,children:t.data.data.map((function(n){return e(n,t.type)}))}])})),ce(ce(ce(ce({},r),{},{id:t.id,title:t.name||t.id||t[Object.keys(t)[0]]},n&&{type:n}),t.entityType&&{type:t.entityType}),{},{nodeData:t})}}(e)}))}t.default=function(){var e=Object(y.useState)(!1),t=s()(e,2),n=t[0],r=t[1],c=Object(y.useState)({}),o=s()(c,2),l=o[0],d=o[1],p=Object(y.useState)(!1),f=s()(p,2),b=f[0],m=f[1],h=Object(O.b)(),j=Object(O.c)((function(e){return e.sourcesReducer}));if(Object(y.useEffect)((function(){var e;(null==j?void 0:j.data)&&0!==(null==j||null===(e=j.data)||void 0===e?void 0:e.length)||(r(!0),Promise.all([Object(F.g)(),Object(Y.a)()]).then(function(){var e=u()(i.a.mark((function e(t){var n,r,a,c,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s()(t,2),r=n[0],a=n[1],c=Array.isArray(r.data)?r.data:[r],e.next=4,Object(Y.b)(c.map((function(e){return e.id})));case 4:return o=e.sent,u=c.map((function(e){var t,n;return ce(ce({},e),{},{entityType:"sources",source_type_id:null===(t=o.data.sources.find((function(t){return t.id===e.id})))||void 0===t?void 0:t.source_type_id,source_type_name:null===(n=a.data.find((function(t){var n;return t.id===(null===(n=o.data.sources.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.source_type_id)})))||void 0===n?void 0:n.name})})),h({type:G.a,payload:ce(ce({},c),{},{data:u})}),e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){var t=e.map((function(e){var t=function(e,t,n){switch(t){case"ansible-tower":return[Object(F.e)(e).then((function(t){return n({type:G.b,id:e,subCollections:{type:"service-offerings",data:t}})})),Object(F.f)(e).then((function(t){return n({type:G.b,id:e,subCollections:{type:"service-plans",data:t}})})),Object(F.a)(e).then((function(t){return n({type:G.b,id:e,subCollections:{type:"service-instances",data:t}})})),Object(F.c)(e).then((function(t){return n({type:G.b,id:e,subCollections:{type:"service-inventories",data:t}})})),Object(F.b)(e).then((function(t){return n({type:G.b,id:e,subCollections:{type:"service-instance-nodes",data:t}})})),Object(F.d)(e).then((function(t){return n({type:G.b,id:e,subCollections:{type:"service-offering-nodes",data:t}})}))];case"amazon":return[ee(e).then((function(t){return n({type:G.b,id:e,subCollections:{type:"vms",data:t}}),t.data})).then((function(e){var t=e.map((function(e){var t=e.id,r=[te(t).then((function(e){return n({type:G.b,id:t,subCollections:{type:"security-groups",data:e}})})),ne(t).then((function(e){return n({type:G.b,id:t,subCollections:{type:"tags",data:e}})})),re(t).then((function(e){return n({type:G.b,id:t,subCollections:{type:"network-adapters",data:e}})}))];return Promise.all(r)}));return Promise.all(t)}))];default:return[]}}(e.id,e.source_type_name,h);return Promise.all(t).then((function(){return r(!1)}))}));return Promise.all(t)})))}),[]),n)return v.a.createElement(V.a,null);var g=l.entityType,E=(l.subCollections,a()(l,["entityType","subCollections"])),w=ie(j);return v.a.createElement(X.a,{open:b,data:E,setOpen:m},v.a.createElement(K.a,null,v.a.createElement(M.a,null,v.a.createElement(N.a,null,v.a.createElement(Q.a,null,v.a.createElement(H.b,{to:W.b.index},"Topology Inventory")),v.a.createElement(Q.a,{isActive:!0},"Tree view"))),v.a.createElement(U.a,null,v.a.createElement(B,{data:w,render:function(e){var t=e.title,n=e.type,r=e.nodeData;return n?v.a.createElement("a",{onClick:function(){d(ce({type:n,entityType:g},r)),m(!0)}},t):v.a.createElement("span",null,t)}}))))}}}]);
//# sourceMappingURL=../sourcemaps/9.js.map