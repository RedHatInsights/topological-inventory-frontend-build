(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{169:function(e,n,t){"use strict";t.r(n);var r,a=t(0),c=t.n(a),o=t(22),u=t.n(o),i=t(42),s=t(23),l=t(47),d=t.n(l),p=t(72),f=t(73),b=t(60),m=t.n(b),v=t(13),y=t.n(v),O=t(6);function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){y()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var E,w={isLoaded:!1,sourceTypes:[],sources:[],details:{},isDetailLoading:!1,detailOpen:!1,detail:{node:void 0,name:void 0},openedNodes:[]},j=(r={},y()(r,O.c,(function(e,n){var t=n.payload.sources;return g(g({},e),{},{isLoaded:!0,sources:t})})),y()(r,O.g,(function(e,n){var t=n.payload.data;return g(g({},e),{},{sourceTypes:t})})),y()(r,O.e,(function(e,n){var t=n.payload;return g(g({},e),{},{details:g(g({},e.details),t),isDetailLoading:!1})})),y()(r,O.d,(function(e){return g(g({},e),{},{isDetailLoading:!1})})),y()(r,O.f,(function(e){return g(g({},e),{},{isDetailLoading:!0,openDetail:!0})})),y()(r,O.b,(function(e){return g(g({},e),{},{detailOpen:!1})})),y()(r,O.i,(function(e,n){var t=n.payload;return g(g({},e),{},{detailOpen:!0,detail:{node:t.node,name:t.name}})})),y()(r,O.a,(function(e,n){var t=n.payload;return g(g({},e),{},{openedNodes:e.openedNodes.includes(t.node)?e.openedNodes.filter((function(e){return e!==t.node})):[].concat(m()(e.openedNodes),[t.node])})})),r),_=t(54),D=function(){return Object(a.useEffect)((function(){insights.chrome.init()}),[]),c.a.createElement(a.Fragment,null,c.a.createElement(_.a,null))};var S=function(e){var n="/",t=e.split("/");return t.shift(),"beta"===t[0]&&(t.shift(),n="/beta/"),"".concat(n).concat(t[0],"/").concat(t[1])};u.a.render(c.a.createElement(s.a,{store:function(){if(E)throw new Error("store already initialized");for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return(E=new d.a({},[p.a,f.a].concat(n))).register({sourcesReducer:Object(l.applyReducerHash)(j,w)}),E}().getStore()},c.a.createElement(i.a,{basename:S(window.location.pathname)},c.a.createElement(D,null))),document.getElementById("root"))},28:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var r=t(24),a=t.n(r),c=t(30),o=t.n(c),u=t(48),i=t.n(u),s=i.a.create();s.interceptors.response.use((function(e){return e.data||e}));var l=function(){return s},d=i.a.create();d.interceptors.request.use(function(){var e=o()(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.insights.chrome.auth.getUser();case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),d.interceptors.response.use((function(e){var n=e.data;if(n.errors)throw{message:n.errors[0].errorType,data:n.errors[0].message};return n}))},29:function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return a}));var r="/api/topological-inventory/v3.0",a="/api/sources/v3.0"},54:function(e,n,t){"use strict";t.d(n,"b",(function(){return V}));var r=t(33),a=t.n(r),c=t(0),o=t.n(c),u=t(5),i=t(34),s=t(163),l=t(164),d=t(55),p=t(79),f=t(170),b=t(162),m=t(19),v=t.n(m),y=t(23),O=t(78),h=t.n(O),g=t(159),E=t(160),w=t(161),j=t(171),_=t(80),D=t(148),S=t(149),L=t(57),P=function(){var e=Object(y.d)((function(e){return e.sourcesReducer.isDetailLoading})),n=Object(y.d)((function(e){var n;return null===(n=e.sourcesReducer.detail)||void 0===n?void 0:n.node})),t=Object(y.d)((function(e){var n;return null===(n=e.sourcesReducer.detail)||void 0===n?void 0:n.name})),r=Object(y.d)((function(e){var t;return null===(t=e.sourcesReducer.details)||void 0===t?void 0:t[n]})),a=Object(y.c)();return o.a.createElement(g.a,null,o.a.createElement(E.a,null,t," -- ",n,o.a.createElement(w.a,null,o.a.createElement(j.a,{onClick:function(){return a(Object(L.b)())}}))),o.a.createElement(_.a,null,e?o.a.createElement(D.a,{className:"pf-u-p-xl"},o.a.createElement(S.a,null)):o.a.createElement(h.a,{src:r})))},N=function(e){var n=e.children,t=Object(y.d)((function(e){return e.sourcesReducer.detailOpen}));return o.a.createElement(p.a,{isExpanded:t},o.a.createElement(f.a,{panelContent:o.a.createElement(P,null)},o.a.createElement(b.a,null,n)))};N.propTypes={children:v.a.oneOfType([v.a.node,v.a.arrayOf(v.a.node)])};var T=N;function x(){var e=a()(["\n  min-height: 100%;\n"]);return x=function(){return e},e}var A=Object(c.lazy)((function(){return Promise.all([t.e(1),t.e(0),t.e(11)]).then(t.bind(null,181))})),k=Object(c.lazy)((function(){return Promise.all([t.e(1),t.e(0),t.e(12)]).then(t.bind(null,179))})),I=Object(c.lazy)((function(){return Promise.all([t.e(1),t.e(0),t.e(13)]).then(t.bind(null,180))})),V={index:"/",treeView:"/tree-view",topologyView:"/topology-viewer"},q=Object(i.a)(s.a)(x());n.a=function e(){return o.a.createElement(q,{hasGutter:!0},o.a.createElement(l.a,null,o.a.createElement(c.Suspense,{fallback:o.a.createElement(d.a,null)},o.a.createElement(T,null,o.a.createElement(u.c,null,o.a.createElement(u.a,{exact:!0,path:V.treeView,component:k}),o.a.createElement(u.a,{exact:!0,path:V.topologyView,component:A}),o.a.createElement(u.a,{path:e.index,component:I}),o.a.createElement(u.a,{path:"*",component:I}))))))}},55:function(e,n,t){"use strict";var r=t(33),a=t.n(r),c=t(0),o=t.n(c),u=t(145),i=t(147),s=t(148),l=t(149),d=t(34);function p(){var e=a()(["\n  height: 100%;\n"]);return p=function(){return e},e}var f=Object(d.a)(u.a)(p());n.a=function(){return o.a.createElement(f,null,o.a.createElement(i.a,null,o.a.createElement(s.a,null,o.a.createElement(l.a,{size:"xl"}))))}},56:function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"a",(function(){return i}));var r=t(28),a=t(29),c=Object(r.a)(),o={name:"sources",topologyViewNode:{nodeShape:"hexagon",nodeType:"source"},transformLabel:function(e,n){var t;return"".concat(e.name," (").concat((null==n||null===(t=n.find((function(n){return n.id===e.source_type_id})))||void 0===t?void 0:t.product_name)||e.source_type_id,")")},children:[{name:"service_offerings",label:"Service offerings",attributes:["name"],topologyViewNode:{nodeShape:"square",nodeType:"serviceOfferings"}},{name:"service_plans",label:"Service plans",attributes:["name"],topologyViewNode:{nodeShape:"square",nodeType:"servicePlans"}},{name:"service_instances",label:"Service instances",attributes:["name"],topologyViewNode:{nodeShape:"square",nodeType:"serviceInstances"}},{name:"service_inventories",label:"Service inventories",attributes:["name"],topologyViewNode:{nodeShape:"square",nodeType:"serviceInventories"}},{name:"service_instance_nodes",label:"Service instance nodes",attributes:["name"],topologyViewNode:{nodeShape:"square",nodeType:"serviceInstanceNodes"}},{name:"service_offering_nodes",label:"Service offering nodes",attributes:["name"],topologyViewNode:{nodeShape:"square",nodeType:"serviceOfferingsNode"}},{name:"source_regions",label:"Source regions",attributes:["name"],children:[{name:"networks",label:"Networks",attributes:["name"],children:[{name:"subnets",label:"Subnets",attributes:["name"]}]},{name:"vms",label:"Virtual machines",attributes:["name"],children:[{name:"network_adapters",label:"Network adapters",attributes:["mac_address"],children:[{name:"ipaddresses",label:"IP addresses",attributes:["ipaddress"]}]},{name:"security_groups",label:"Security groups",attributes:["name"]},{name:"volumes",label:"Volumes",attributes:["name"]}]}]}]},u="{".concat(function e(n){return"".concat(n.name," {id,").concat(n.attributes?n.attributes:"",",").concat(n.children?n.children.map((function(n){return e(n)})):"","}")}(o),"}"),i=function(){return c.post("".concat(a.b,"/graphql"),{query:u}).then((function(e){return e.data}))}},57:function(e,n,t){"use strict";t.d(n,"e",(function(){return m})),t.d(n,"d",(function(){return v})),t.d(n,"c",(function(){return y})),t.d(n,"b",(function(){return O})),t.d(n,"a",(function(){return h}));var r=t(24),a=t.n(r),c=t(13),o=t.n(c),u=t(30),i=t.n(u),s=t(6),l=t(56),d=t(28),p=t(29);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){o()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var m=function(){return function(){var e=i()(a.a.mark((function e(n){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)();case 2:return t=e.sent,e.next=5,a=t.sources.map((function(e){return e.id})),Object(d.a)().post("".concat(p.a,"/graphql"),{query:"{ sources( filter: { id: { eq: [".concat(a,"] } } )\n        { id, source_type_id, name }\n    }")}).then((function(e){return e.data}));case 5:return r=e.sent,e.abrupt("return",n({type:s.c,payload:{sources:t.sources.map((function(e){return b(b({},r.sources.find((function(n){return n.id===e.id}))),e)}))}}));case 7:case"end":return e.stop()}var a}),e)})));return function(n){return e.apply(this,arguments)}}()},v=function(){return function(){var e=i()(a.a.mark((function e(n){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d.a)().get("".concat(p.a,"/source_types"));case 3:return t=e.sent,e.abrupt("return",n({type:s.g,payload:t}));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n({type:s.h}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}()},y=function(e,n,t){return function(){var r=i()(a.a.mark((function r(c,u){var i,l;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c({type:s.i,payload:{node:"".concat(e,"-").concat(n),name:t}}),i=u(),!i.sourcesReducer.details["".concat(e,"-").concat(n)]){r.next=4;break}return r.abrupt("return",c({type:s.e}));case 4:return c({type:s.f}),r.prev=5,r.next=8,Object(d.a)().get("".concat(p.b,"/").concat(e,"/").concat(n));case 8:return l=r.sent,r.abrupt("return",c({type:s.e,payload:o()({},"".concat(e,"-").concat(n),l)}));case 12:return r.prev=12,r.t0=r.catch(5),r.abrupt("return",c({type:s.d}));case 15:case"end":return r.stop()}}),r,null,[[5,12]])})));return function(e,n){return r.apply(this,arguments)}}()},O=function(){return{type:s.b}},h=function(e,n){return{type:s.a,payload:{node:"".concat(e,"-").concat(n)}}}},6:function(e,n,t){"use strict";t.d(n,"c",(function(){return a})),t.d(n,"g",(function(){return c})),t.d(n,"h",(function(){return o})),t.d(n,"f",(function(){return u})),t.d(n,"e",(function(){return i})),t.d(n,"d",(function(){return s})),t.d(n,"b",(function(){return l})),t.d(n,"i",(function(){return d})),t.d(n,"a",(function(){return p}));var r="@@topological_inventory_frontend/",a="".concat(r,"LOAD_DATA"),c="".concat(r,"LOAD_SOURCE_TYPES"),o="".concat(r,"LOAD_SOURCE_TYPES_FAILED"),u="".concat(r,"LOAD_DETAIL_PENDING"),i="".concat(r,"LOAD_DETAIL_FULFILLED"),s="".concat(r,"LOAD_DETAIL_FAILED"),l="".concat(r,"CLOSE_DETAIL"),d="".concat(r,"OPEN_DETAIL"),p="".concat(r,"CLICK_ON_NODE")}}]);
//# sourceMappingURL=../sourcemaps/lib~App~06837ae4.js.map